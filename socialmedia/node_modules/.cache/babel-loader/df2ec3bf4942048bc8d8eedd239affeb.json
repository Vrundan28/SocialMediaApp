{"ast":null,"code":"var _jsxFileName = \"D:\\\\WEB DEV\\\\PROJECT\\\\socialmedia\\\\src\\\\Components\\\\EditProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport Navbar from './Navbar';\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport { Context } from '../context/Context';\nimport './EditProfile.css';\nimport { TextField } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const EditProfile = () => {\n  _s();\n\n  const [userInfo, setuserInfo] = useState({});\n  const publicfolder = \"http://localhost:5000/Images/\";\n  const [name, setName] = useState(\"\");\n  const [uname, setUname] = useState(\"\");\n  const [age, setAge] = useState(0);\n  const [phone, setPhone] = useState(\"\");\n  const [profilepicImage, setprofilepic] = useState(null);\n  const [profilepicName, setprofilepicName] = useState(\"\");\n  const {\n    user,\n    dispatch\n  } = useContext(Context);\n  const currId = user._id;\n  useEffect(() => {\n    const fetchInfo = async () => {\n      try {\n        const uInfo = await axios.get(`/user/${currId}`);\n        setuserInfo(uInfo.data);\n        setName(uInfo.data.name);\n        setUname(uInfo.data.userName);\n        setAge(uInfo.data.age);\n        setPhone(uInfo.data.contact);\n      } catch (err) {\n        console.log(\"Error\");\n      }\n    };\n\n    fetchInfo();\n  }, []);\n\n  const handleUpdate = async e => {\n    e.preventDefault();\n\n    try {\n      let fname;\n      const updatedUser = {\n        userName: uname,\n        contact: phone,\n        age: age,\n        name: name\n      };\n\n      if (profilepicImage) {\n        const data = new FormData();\n        fname = user._id + Date.now();\n        data.append(\"fname\", fname);\n        data.append(\"file\", profilepicImage);\n        updatedUser.profilepic = fname;\n\n        try {\n          await axios.post('/uploads', data);\n        } catch (err) {}\n      }\n\n      const res = await axios.put(`/user/${currId}`, updatedUser);\n      setuserInfo(res.data);\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editprofile_container\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleUpdate,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"editprofile_card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"editprofile_top\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"editprofile_top_img\",\n              src: profilepicImage ? URL.createObjectURL(profilepicImage) : publicfolder + userInfo.profilepic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"profileinput\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"editprofile_cameraicon fas fa-camera\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: e => setprofilepic(e.target.files[0]),\n              id: \"profileinput\",\n              style: {\n                display: \"none\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"editprofile_bottom\",\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              id: \"standard-basic\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              label: \"Name\",\n              variant: \"standard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              style: {\n                marginTop: \"1.5vh\"\n              },\n              id: \"standard-basic\",\n              value: uname,\n              onChange: e => setUname(e.target.value),\n              label: \"Username\",\n              variant: \"standard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              style: {\n                marginTop: \"1.5vh\"\n              },\n              id: \"standard-basic\",\n              value: phone,\n              onChange: e => setPhone(e.target.value),\n              label: \"Phone\",\n              variant: \"standard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              style: {\n                marginTop: \"1.5vh\"\n              },\n              id: \"standard-basic\",\n              value: age,\n              onChange: e => setAge(e.target.value),\n              label: \"Phone\",\n              variant: \"standard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"editprofile_submit_button\",\n              type: \"submit\",\n              children: \"Update!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(EditProfile, \"f/hTN85N3In0IPmvLbkmO409P2k=\");\n\n_c = EditProfile;\nexport default EditProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"sources":["D:/WEB DEV/PROJECT/socialmedia/src/Components/EditProfile.js"],"names":["React","useContext","Navbar","useState","useEffect","axios","Context","TextField","EditProfile","userInfo","setuserInfo","publicfolder","name","setName","uname","setUname","age","setAge","phone","setPhone","profilepicImage","setprofilepic","profilepicName","setprofilepicName","user","dispatch","currId","_id","fetchInfo","uInfo","get","data","userName","contact","err","console","log","handleUpdate","e","preventDefault","fname","updatedUser","FormData","Date","now","append","profilepic","post","res","put","URL","createObjectURL","target","files","display","value","marginTop"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\r\nimport Navbar from './Navbar'\r\nimport { useState, useEffect } from 'react'\r\nimport axios from \"axios\"\r\nimport { Context } from '../context/Context'\r\nimport './EditProfile.css'\r\nimport {TextField} from '@material-ui/core'\r\nexport const EditProfile = () => {\r\n\r\n    const [userInfo, setuserInfo] = useState({})\r\n    const publicfolder = \"http://localhost:5000/Images/\"\r\n    const [name, setName] = useState(\"\")\r\n    const [uname, setUname] = useState(\"\")\r\n    const [age, setAge] = useState(0)\r\n    const [phone, setPhone] = useState(\"\")\r\n    const [profilepicImage,setprofilepic]=useState(null)\r\n    const [profilepicName,setprofilepicName]=useState(\"\");\r\n    const { user, dispatch } = useContext(Context)\r\n    const currId = user._id;\r\n    useEffect(() => {\r\n        const fetchInfo = async () => {\r\n            try {\r\n                const uInfo = await axios.get(`/user/${currId}`)\r\n                setuserInfo(uInfo.data)\r\n                setName(uInfo.data.name)\r\n                setUname(uInfo.data.userName)\r\n                setAge(uInfo.data.age)\r\n                setPhone(uInfo.data.contact)\r\n            } catch (err) {\r\n                console.log(\"Error\")\r\n            }\r\n        }\r\n        fetchInfo()\r\n    }, [])\r\n\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            let fname;\r\n            const updatedUser = {\r\n                userName: uname,\r\n                contact: phone,\r\n                age: age,\r\n                name: name\r\n            }\r\n            if(profilepicImage)\r\n            {\r\n                const data = new FormData();\r\n                fname = user._id+Date.now();   \r\n                data.append(\"fname\",fname);\r\n                data.append(\"file\",profilepicImage);\r\n                updatedUser.profilepic=fname;\r\n                try {\r\n                    await axios.post('/uploads',data);\r\n                } catch (err) {\r\n                    \r\n                }\r\n            }\r\n            const res = await axios.put(`/user/${currId}`, updatedUser)\r\n            setuserInfo(res.data);\r\n            \r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n            <>\r\n            <div className=\"editprofile_container\">\r\n            <Navbar />\r\n                <form onSubmit={handleUpdate}>\r\n                <div className=\"editprofile_card\">\r\n                    <div className=\"editprofile_top\">     \r\n                            {<img className=\"editprofile_top_img\" src={profilepicImage?URL.createObjectURL(profilepicImage):publicfolder+userInfo.profilepic}/>}\r\n                            <label htmlFor=\"profileinput\">\r\n                                <Tooltip>\r\n                                <i className=\"editprofile_cameraicon fas fa-camera\"></i>\r\n                                </Tooltip>\r\n                            </label>\r\n                            <input type=\"file\" onChange={(e)=>setprofilepic(e.target.files[0])} id=\"profileinput\" style={{display:\"none\"}}/>\r\n                    </div>\r\n                    <div className=\"editprofile_bottom\">\r\n                    <TextField id=\"standard-basic\" value={name} onChange={(e)=>setName(e.target.value)} label=\"Name\" variant=\"standard\" />\r\n                    <TextField style={{marginTop:\"1.5vh\"}} id=\"standard-basic\" value={uname} onChange={(e) => setUname(e.target.value)} label=\"Username\" variant=\"standard\" />\r\n                    <TextField style={{marginTop:\"1.5vh\"}} id=\"standard-basic\" value={phone} onChange={(e) => setPhone(e.target.value)} label=\"Phone\" variant=\"standard\" />\r\n                    <TextField style={{marginTop:\"1.5vh\"}} id=\"standard-basic\" value={age} onChange={(e) => setAge(e.target.value)} label=\"Phone\" variant=\"standard\" />\r\n                    <button className=\"editprofile_submit_button\" type=\"submit\" >Update!</button>\r\n                    </div>\r\n                </div>\r\n                </form>\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\nexport default EditProfile"]},"metadata":{},"sourceType":"module"}