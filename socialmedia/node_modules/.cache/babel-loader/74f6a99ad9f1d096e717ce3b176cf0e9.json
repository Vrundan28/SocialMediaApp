{"ast":null,"code":"var _jsxFileName = \"D:\\\\DDUSEM5\\\\AT\\\\Project\\\\socialmedia\\\\src\\\\Components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport './login.css';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { Context } from '../context/Context';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { Button, TextField } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [username, setusername] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const [fetcheduser, setfetcheduser] = useState({});\n  const [isLoading, setisLoading] = useState(false);\n  const {\n    dispatch\n  } = useContext(Context);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let status, fetched;\n    setisLoading(true);\n\n    const fetchUser = async () => {\n      try {\n        fetched = await axios.post(\"auth/login\", {\n          userName: username,\n          password: password\n        });\n        setfetcheduser(fetched.data);\n        status = fetched.status;\n        console.log(fetched + \"\\n\" + status);\n\n        if (status == 200) {\n          setisLoading(false);\n\n          if (fetched.data == \"User not found\") {\n            toast.error('Incorrect Username', {\n              position: \"top-center\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n          } else if (fetched.data == \"Wrong password\") {\n            toast.error('Please enter correct password', {\n              position: \"top-center\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n          } else if (!fetched.data.confirmed) {\n            toast.error('Please verify email to login', {\n              position: \"top-center\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n          } else {\n            dispatch({\n              type: \"LOGIN\",\n              payload: fetched.data\n            });\n            window.location.replace('/home');\n          }\n        }\n      } catch (err) {\n        console.log(err.message);\n      }\n    };\n\n    fetchUser();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login_box\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 44\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 50\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          class: \"Login_Title\",\n          children: \"Login!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => handleSubmit(e),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"Login_Fields\",\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              value: username,\n              onChange: e => setusername(e.target.value),\n              label: \"Enter Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              value: password,\n              onChange: e => setpassword(e.target.value),\n              type: \"password\",\n              label: \"Enter Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            type: \"submit\",\n            children: \"LOGIN!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"success\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"Signup\",\n              className: \"link\",\n              children: \"SignUp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 69\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 12\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"vHgqmWa79oyWiTXUmjCiodSq3Mw=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/DDUSEM5/AT/Project/socialmedia/src/Components/Login.js"],"names":["React","useContext","useState","Link","axios","Context","ToastContainer","toast","CircularProgress","Button","TextField","Login","username","setusername","password","setpassword","fetcheduser","setfetcheduser","isLoading","setisLoading","dispatch","handleSubmit","e","preventDefault","status","fetched","fetchUser","post","userName","data","console","log","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","confirmed","type","payload","window","location","replace","err","message","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport './login.css';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Context } from '../context/Context';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport {Button,TextField} from '@material-ui/core';\r\n\r\nconst Login = () => {\r\n\r\n    const [username, setusername] = useState(\"\");\r\n    const [password, setpassword] = useState(\"\");\r\n    const [fetcheduser, setfetcheduser] = useState({})\r\n    const [isLoading, setisLoading] = useState(false)\r\n    const { dispatch } = useContext(Context)\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let status, fetched;\r\n        setisLoading(true)\r\n        const fetchUser = async () => {\r\n            try {\r\n                fetched = await axios.post(\"auth/login\", { userName: username, password: password });\r\n                setfetcheduser(fetched.data)\r\n                status = fetched.status\r\n\r\n                console.log(fetched+\"\\n\"+status);\r\n\r\n                if (status == 200){\r\n                    setisLoading(false)                        \r\n                    if (fetched.data == \"User not found\"){\r\n\r\n                        toast.error('Incorrect Username', {\r\n                            position: \"top-center\",\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true,\r\n                            progress: undefined,\r\n                        });\r\n                    }\r\n                    else if (fetched.data == \"Wrong password\") {\r\n                        toast.error('Please enter correct password', {\r\n                            position: \"top-center\",\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true,\r\n                            progress: undefined,\r\n                        });\r\n                        \r\n                    }\r\n                    else if (!fetched.data.confirmed) {\r\n                        \r\n                        toast.error('Please verify email to login', {\r\n                            position: \"top-center\",\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true,\r\n                            progress: undefined,\r\n                        });\r\n                    }\r\n                    else {\r\n                        dispatch({ type: \"LOGIN\", payload: fetched.data })\r\n                        window.location.replace('/home')\r\n                    }\r\n                } \r\n\r\n            }\r\n            catch (err) {\r\n                console.log(err.message);\r\n            }\r\n\r\n        }\r\n        fetchUser();\r\n\r\n    }\r\n    return (\r\n        <>\r\n        { !isLoading?\r\n            <div className=\"container1\">\r\n                <div className=\"login_box\"><br /><br />\r\n                \r\n                <h2 class=\"Login_Title\">Login!!</h2><br/>\r\n                    <form onSubmit={(e) => handleSubmit(e)}>\r\n                        <div>\r\n                            <ToastContainer></ToastContainer>\r\n                        </div>\r\n                        <div class=\"Login_Fields\">\r\n                        <TextField\r\n                            required value={username} \r\n                            onChange={(e) => setusername(e.target.value)} \r\n                            label=\"Enter Username\"> \r\n                        </TextField>\r\n                        <TextField \r\n                            required value={password} \r\n                            onChange={(e) => setpassword(e.target.value)} \r\n                            type=\"password\" \r\n                            label=\"Enter Password\" > \r\n                        </TextField>\r\n                        </div>\r\n                        <br /><br />\r\n                        <Button variant='contained' color=\"primary\"  type=\"submit\">LOGIN!</Button>\r\n                        <br />\r\n                        <br />\r\n                        <Button variant='contained' color=\"success\"><Link to=\"Signup\" className=\"link\" >SignUp</Link></Button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n         : <div><CircularProgress /></div>}\r\n        </>\r\n    \r\n    )\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}